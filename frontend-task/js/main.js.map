{"version":3,"sources":["main.js"],"names":["openModal","onSelect","append","$","on","today","getMonth","yyyy","getFullYear","prop","dateText","myModal","find","modal","preventDefault","Date","getDate","padStart","remove","mm","dd","this","addClass","html","taxPercentage","val","removeClass","price","parseFloat","e","substr","length","substring","taxprice","tax","tablenumber","maxTableNumber","email","payDate","toFixed","counter","before","rowHtml","not","submit","row","column","forIndex","cH","rH","r","c"],"mappings":"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","file":"main.js","sourcesContent":["function openModal() {\r\n    var modalHtml =''+\r\n    '<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">'+\r\n        '<div class=\"modal-dialog\">'+\r\n            '<div class=\"modal-content\">'+\r\n                '<div class=\"modal-header\">'+\r\n                    '<h4 class=\"modal-title\"></h4>'+\r\n                '</div>'+\r\n                '<div class=\"modal-body\">'+\r\n                    '<p></p>'+\r\n                '</div>'+\r\n                '<div class=\"modal-footer\">'+\r\n                    '<button type=\"button\" class=\"btn btn-primary js-close-modal\" data-dismiss=\"modal\">OK</button>'+\r\n                '</div>'+\r\n            '</div>'+\r\n        '</div>'+\r\n    '</div>';\r\n    $('body').append(modalHtml);\r\n}\r\n\r\n$('.js-tax-check').on(\"click\", function() {\r\n    if ($('.js-tax-check').is(':checked')) {\r\n        $('.js-tax-input').prop('disabled', true);\r\n    }else {\r\n        $('.js-tax-input').prop('disabled', false);\r\n    }\r\n});\r\n\r\n$(\".js-datepicker\").datepicker({\r\n    dateFormat: 'yy-mm-dd',\r\n    //maxDate: '0', //-- Egyszerűbb lenne simán nem engedélyezni jövőbeli dátumot.\r\n    onSelect: function(dateText) {\r\n        var today = new Date();\r\n        var dd = String(today. getDate()). padStart(2, '0');\r\n        var mm = String(today. getMonth() + 1). padStart(2, '0');\r\n        var yyyy = today. getFullYear();\r\n        today = yyyy + '-' + mm + '-' + dd;\r\n\r\n        if (dateText>today) {\r\n            openModal();\r\n            $(this).addClass('input--error');\r\n            $('.js-save').prop('disabled', true);\r\n\r\n            var myModal = $(\"#myModal\");\r\n            myModal.find('.modal-title').html('Dátum hiba');\r\n            myModal.find('.modal-body').html('A megadott dátum nem helyes!');\r\n            myModal.modal('show');\r\n\r\n            $('.js-close-modal').on(\"click\", function() {\r\n                myModal.modal(\"hide\");\r\n                myModal.remove();\r\n            });\r\n\r\n        }else {\r\n            $(this).removeClass('input--error');\r\n            $('.js-save').prop('disabled', false);\r\n        }\r\n    }\r\n});\r\n\r\n$(\".js-form\").submit(function(e){\r\n    e.preventDefault();\r\n    if ($(\"#taxpercentage\").prop('disabled')) {\r\n        var taxPercentage = 27;\r\n    }else {\r\n        var taxPercentage = $('#taxpercentage').val();\r\n        var lastChar = taxPercentage.substr(taxPercentage.length - 1);\r\n\r\n        if(lastChar == \"%\"){\r\n            taxPercentage = taxPercentage.substring(0, taxPercentage.length-1);\r\n        }\r\n    }\r\n\r\n    var email = $('#email').val();\r\n    var payDate = $('#datepicker').val();\r\n    var taxprice = $('#price').val();\r\n    var price = taxprice / (\"1.\"+taxPercentage);\r\n    var tax = (price * parseFloat(taxPercentage+\"%\")) / 100;\r\n\r\n    openModal();\r\n    var myModal = $(\"#myModal\");\r\n    myModal.find('.modal-title').html('Adatok');\r\n    myModal.find('.modal-body').html('Email cím: '+email+'<br/>Fizetés dátuma: '+payDate+'<br/>Fizetés bruttó összege: '+taxprice+'<br/>Fizetés nettó összege: '+price.toFixed(2)+'<br/>Adószázalék: '+taxPercentage+'% <br/>Adó értéke: '+tax.toFixed(2));\r\n    myModal.find('.modal-footer .js-close-modal').html('Mégsem');\r\n    myModal.find('.modal-footer .js-close-modal').before('<button type=\"button\" class=\"btn btn-primary js-clear-form\">OK</button>');\r\n    myModal.modal('show');\r\n    \r\n    $('.js-close-modal').on(\"click\", function() {\r\n        myModal.modal(\"hide\");\r\n        myModal.remove();\r\n    });\r\n    $('.js-clear-form').on(\"click\", function() {\r\n        myModal.modal(\"hide\");\r\n        myModal.remove();\r\n        $('.js-form').find('input').not('.js-datepicker').val(\"\");\r\n    });\r\n});\r\n\r\n$(\".js-form-table\").submit(function(e){\r\n    e.preventDefault();\r\n    $('.content__table').empty();\r\n\r\n    var tablenumber = $('#tablenumber').val();\r\n    var maxTableNumber = tablenumber * tablenumber;\r\n    var counter = 1;\r\n    var column = 0;\r\n    var row = 0;\r\n    var forIndex = tablenumber-1;\r\n    var rowHtml;\r\n\r\n    $('.content__table').append('<table class=\"table\"></table>');\r\n    for(var cH=0; cH<tablenumber; cH++) {\r\n        rowHtml = \"\";\r\n        for(var rH=0; rH<tablenumber; rH++) {\r\n            rowHtml += '<td id=\"'+rH+'\"></td>';\r\n        }\r\n        $('.table').append('<tr id=\"'+cH+'\">'+rowHtml+'</tr>');\r\n    }\r\n\r\n    while (counter<maxTableNumber) {\r\n        for (var r=0; r < forIndex; r++) {\r\n            $('.table').find('tr#'+column+' td#'+row).append(counter);\r\n            row++;\r\n            counter++;\r\n        }\r\n        for (var c=0; c < forIndex; c++) {\r\n            $('.table').find('tr#'+column+' td#'+row).append(counter);\r\n            column++;\r\n            counter++;\r\n        }\r\n        for (var r=0; r < forIndex; r++) {\r\n            $('.table').find('tr#'+column+' td#'+row).append(counter);\r\n            row--;\r\n            counter++;\r\n        }\r\n        for (var c=0; c < forIndex; c++) {\r\n            $('.table').find('tr#'+column+' td#'+row).append(counter);\r\n            column--;\r\n            counter++;\r\n        }\r\n        column++;\r\n        row++;\r\n        forIndex = forIndex-2;\r\n\r\n        if(forIndex==0) {\r\n            $('.table').find('tr#'+column+' td#'+row).append(counter);\r\n        } \r\n    }\r\n});\r\n"]}